:root {
  --bg: #fff7fa;
  --panel: #fffafc;
  --panel-2: #fff1f6;
  --text: #1d1220;
  --muted: #7a5a66;
  --brand: #ff3e8a; /* hot pink */
  --brand-2: #ff8fc0; /* lighter pink */
  --ring: rgba(255, 62, 138, 0.35);
  --border: #f1d5e4; /* pinkish border */
  /* high-contrast heading color */
  --heading: #14080e;
  --marquee-duration: 20s;
  --marquee-distance: 100%;
  /* warmer pink-forward chrome */
  --chrome-top: linear-gradient(180deg, #ffe7f3, #ffd6ea 55%, #ffc6e4);
  --chrome-accent: color-mix(in oklab, var(--brand) 62%, var(--brand-2));
  /* Feedback tokens */
  --success: #16a34a; /* green-600 */
  --success-border: color-mix(in oklab, var(--success) 35%, var(--panel-2));
  --success-bg: color-mix(in oklab, var(--success) 8%, transparent);
  --error: #dc2626; /* red-600 */
  --error-border: color-mix(in oklab, var(--error) 35%, var(--panel-2));
  --error-bg: color-mix(in oklab, var(--error) 8%, transparent);
  /* Micro-interaction tokens */
  --press-scale: 0.97;
  --press-dur: 150ms;
  /* Spacing scale */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-7: 32px;
  --space-8: 40px;
}

@media (prefers-color-scheme: dark) {
  :root {
  --bg: #140a10;
  --panel: #1b1217;
  --panel-2: #23161c;
  --text: #f7f2f7;
  --muted: #c9a1b3;
  --border: #5b3546;
  --heading: #fff5f9;
  /* pink-forward dark chrome - lifted to contrast against panel */
  --chrome-top: linear-gradient(180deg, #451a2d, #381826 55%, #2f1a24);
    /* Feedback tokens can remain; adjust if needed in the future */
  }
}

* { box-sizing: border-box; }

html, body, #root {
  height: 100%;
}

html, body { overflow-x: hidden; }
#root { overflow-x: clip; }

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: flex;
  padding-bottom: var(--space-5); /* add ~20px breathing room at the very bottom */
}

#root {
  width: 100%;
  max-width: 1000px;
  margin: 32px auto;
  padding: 0 24px 0;
  display: grid;
  grid-template-rows: auto 1fr auto;
  gap: 20px;
}

/* --- Footer breathing room adjustments --- */
/* Make the app container slightly shorter than the viewport so a ~20px gap shows below the footer */
body { align-items: flex-start; }
#root { height: auto; min-height: calc(100vh - var(--space-5)); }
/* Remove earlier attempts that could double the gap */
body { padding-bottom: 0; }
#root::after { display: none; }

/* Headings */
h1, h2, h3, h4, h5 { font-weight: 700; letter-spacing: -0.02em; color: var(--heading, var(--text)); margin: 0; }
h1 { font-size: clamp(30px, 6vw, 42px); }
h2 { font-size: clamp(22px, 3.5vw, 28px); }
h3 { font-size: clamp(18px, 2.8vw, 22px); }

/* Links */
a { color: var(--brand); text-decoration: none; }
a:hover { text-decoration: underline; text-decoration-color: color-mix(in oklab, var(--brand) 60%, var(--brand-2)); }

/* Panels */
.panel {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
}

/* XP/7 bevel inspired edges */
.panel {
  position: relative;
}
.panel::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  /* soften bevel to reduce chrome visual weight */
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.5),
    inset 0 -1px 0 rgba(255,255,255,0.35);
}
/* Prevent stacked chrome on the header panel */
.main-header.panel::before { display: none; }

/* Ensure header forms its own stacking context */
.main-header { isolation: isolate; }

/* Remove top highlight on the first content panel after the header */
.main-header + main.panel::before {
  box-shadow: inset 0 -1px 0 rgba(255,255,255,0.6); /* keep only bottom inner bevel */
}

/* Ensure header sits above content and doesn't clip children */
.main-header { z-index: 1000; }
.main-header.panel { overflow: visible; padding-bottom: 0; }

/* Normalize stacking for panels and their bevels */
.panel { position: relative; z-index: 0; }
.panel::before { z-index: 0; }

/* === Header (canonical) === */
.main-header { position: sticky; top: 12px; z-index: 2000; isolation: isolate; }
/* Remove top highlight on the first content panel after the header */
.main-header + main.panel::before { content: none; }
.main-header + main.panel { margin-top: 0; }

/* Panel chrome */
.main-header.panel {
  background: var(--chrome-top);
  border: 1px solid var(--border);
  border-radius: 14px; /* inherit shape */
  background-clip: padding-box;
  overflow: visible;            /* allow pills/shadows */
  padding: 12px 16px;           /* balanced vertical padding */
}
.main-header.panel::before { display: none; }

/* Inner layout */
.header-inner {
  display: flex;
  align-items: center;          /* vertical centering */
  justify-content: space-between;
  gap: 12px;
  padding: 0;                   /* spacing handled by panel padding */
  min-height: 60px;             /* visible header height */
  flex-wrap: wrap;
  row-gap: 8px;
  position: relative;
  z-index: 1;
}

.brand-row { display: flex; align-items: center; gap: 12px; flex: 1 1 auto; min-width: 220px; }
.site-main-title { margin: 0; }
.site-title-link { display: inline-flex; align-items: center; gap: 10px; font-weight: 800; font-size: clamp(22px, 4.5vw, 30px); color: var(--text); text-decoration: none; }
.site-title-link .badge { font-size: 11px; font-weight: 700; display: inline-grid; place-items: center; height: 22px; padding: 0 10px; border-radius: 11px; background: var(--chrome-accent); color: #fff; border: 1px solid color-mix(in oklab, var(--brand) 40%, white 60%); box-shadow: 0 1px 0 rgba(255,255,255,0.7) inset, 0 1px 6px rgba(236,72,153,0.3); }

/* Window controls */
.window-controls { display: inline-flex; gap: 6px; margin-left: 4px; }
.window-controls .wc { width: 8px; height: 8px; border-radius: 50%; display: inline-block; background: radial-gradient(circle at 30% 30%, #fff8, transparent 55%), var(--chrome-accent); border: 1px solid color-mix(in oklab, var(--brand) 40%, black 12%); box-shadow: 0 1px 0 rgba(255,255,255,0.8) inset, 0 1px 2px rgba(0,0,0,0.08); opacity: 0.75; }

/* Nav */
.main-header .main-nav { --pill-h: 30px; flex: 1 1 auto; display: flex; justify-content: flex-end; }
.main-header .main-nav ul { list-style: none; display: flex; gap: 8px; margin: 0; padding: 0; align-items: center; flex-wrap: wrap; }
.main-header .main-nav a {
  display: inline-flex;                /* was inline-grid */
  align-items: center;
  justify-content: center;
  height: var(--pill-h);
  line-height: 1;
  padding: 0 14px;
  border-radius: calc(var(--pill-h) / 2);
  font-weight: 700;
  font-size: 15px;
  color: var(--text);
  background: transparent;
  border: 1px solid transparent;
  text-decoration: none;
}
.main-header .main-nav a:hover { background: color-mix(in oklab, var(--panel) 80%, var(--brand-2) 20%); text-decoration: none; }
.main-header .main-nav a.active {
  /* flatter active state */
  background: color-mix(in oklab, var(--brand-2) 35%, var(--panel) 65%);
  border-color: color-mix(in oklab, var(--border) 55%, var(--brand) 45%);
  box-shadow: none;
}

/* Footer */
footer.footer { padding: 0; color: var(--muted); font-size: 14px; margin-bottom: 0; }
footer.footer.panel { border: 1px solid var(--border); padding: 0; background: linear-gradient(180deg, var(--panel), var(--panel-2)); background-clip: padding-box; }
/* Remove bevel overlay on footer to avoid white top/bottom highlights */
footer.footer.panel::before { display: none; }
.footer-inner { display: flex; gap: 12px; align-items: center; justify-content: space-between; padding: 8px 12px; }
.quote { color: var(--muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 70ch; }

/* Retro marquee styles for footer (spec-aligned) */
.retro-marquee .marquee {
  position: relative;
  overflow: hidden;
  width: 100%;
  min-height: var(--marquee-h, 44px);
  background: transparent;
  border-radius: inherit;
  height: 100%;
  /* No border-top here; panel handles border */
}
.retro-marquee .marquee__track {
  position: absolute;
  left: 100%;
  top: 50%;
  /* allow an x-offset at start via --marquee-x-start (default 0px) */
  transform: translateY(-50%) translateX(var(--marquee-x-start, 0px));
  white-space: nowrap;
  will-change: transform;
  pointer-events: none;
  animation-name: marquee-run;
  animation-timing-function: linear;
  animation-iteration-count: 1;
  animation-duration: var(--marquee-dur, 20s);
  text-shadow: 0 1px 0 color-mix(in oklab, var(--panel) 60%, var(--brand-2) 40%);
}
@keyframes marquee-run {
  /* Animate from a configurable start X to a configurable end X. JS will set
    --marquee-x-start (e.g. +pad px) and --marquee-x-end (e.g. -{distance+pad}px)
    to give a bit of off-screen breathing at both edges. */
  from { transform: translateY(-50%) translateX(var(--marquee-x-start, 0px)); }
  to { transform: translateY(-50%) translateX(var(--marquee-x-end, calc(-100vw - 100%))); }
}
@media (prefers-reduced-motion: reduce) {
  html:not(.allow-motion) .retro-marquee .marquee {
    display: grid;
    place-items: center;
    min-height: var(--marquee-h, 44px);
  }
  html:not(.allow-motion) .retro-marquee .marquee__track {
    animation: none;
    position: static;
    transform: none;
    white-space: normal;
  }
}

/* Generic content container */
.page-content { padding: 20px; }
.page { padding: 16px; }

/* Buttons */
.button, .geocities-button, .project-link-button, .submit-button {
  --btn-bg: color-mix(in oklab, var(--brand) 50%, var(--brand-2));
  --btn-fg: white;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 16px;
  border-radius: 999px; /* pill shape for consistency (matches preferred GitHub style) */
  border: 1px solid transparent;
  background: var(--btn-bg);
  color: var(--btn-fg);
  font-weight: 700;
  font-size: 14px; /* normalize size */
  line-height: 1;  /* normalize line height */
  text-decoration: none; /* ensure anchors don’t underline */
  -webkit-appearance: none; /* normalize native button rendering */
  appearance: none;
  cursor: pointer; /* ensure pointer on anchors too */
  transition: transform var(--press-dur, 150ms) ease, box-shadow var(--press-dur, 150ms) ease, opacity .2s ease;
  box-shadow: 0 4px 12px rgba(236,72,153,0.18);
}
.button:hover, .geocities-button:hover, .project-link-button:hover, .submit-button:hover {
  text-decoration: none; transform: translateY(-1px); box-shadow: 0 6px 18px rgba(236,72,153,0.22);
}
.button:active, .geocities-button:active, .project-link-button:active, .submit-button:active {
  transform: translateY(0) scale(var(--press-scale, .97));
}
.button:focus-visible { outline: none; box-shadow: 0 0 0 4px var(--ring), 0 6px 14px rgba(236,72,153,0.25); }

/* Small button variant */
.button--sm { padding: 6px 12px; font-size: 13px; border-radius: 999px; box-shadow: 0 3px 8px rgba(236,72,153,0.16); }

/* Ghost button variant (good for filter chips) */
.button--ghost { --btn-bg: transparent; --btn-fg: var(--text); border-color: var(--border); box-shadow: none; background: transparent; color: var(--btn-fg); }
.button--ghost:hover { --btn-bg: color-mix(in oklab, var(--panel) 80%, var(--brand-2) 20%); border-color: var(--brand); }
.button--ghost[aria-pressed="true"] { --btn-bg: var(--brand); --btn-fg: #fff; border-color: var(--brand); box-shadow: 0 6px 14px rgba(236,72,153,0.25); }

@media (prefers-reduced-motion: reduce) {
  .button, .geocities-button, .project-link-button, .submit-button { transition: none; }
}

/* Forms */
input[type="text"], input[type="url"], textarea {
  width: 100%; padding: 10px 12px; border-radius: 12px; border: 1px solid var(--border);
  background: var(--panel); color: var(--text); outline: none;
}
input:focus, textarea:focus { border-color: var(--ring); box-shadow: 0 0 0 4px var(--ring); }

/* Utilities */
.muted { color: var(--muted); }
.center { text-align: center; }
.text-center { text-align: center; }
.mt-0 { margin-top: 0; }
.mt-1 { margin-top: var(--space-1); }
.mt-2 { margin-top: var(--space-2); }
.mt-3 { margin-top: var(--space-3); }
.mt-4 { margin-top: var(--space-4); }
.mt-5 { margin-top: var(--space-5); }
.mt-6 { margin-top: var(--space-6); }
.mt-7 { margin-top: var(--space-7); }
.mt-8 { margin-top: var(--space-8); }
.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: var(--space-1); }
.mb-2 { margin-bottom: var(--space-2); }
.mb-3 { margin-bottom: var(--space-3); }
.mb-4 { margin-bottom: var(--space-4); }
.mb-5 { margin-bottom: var(--space-5); }
.mb-6 { margin-bottom: var(--space-6); }
.mb-7 { margin-bottom: var(--space-7); }
.mb-8 { margin-bottom: var(--space-8); }
.mr-1 { margin-right: var(--space-1); }
.mr-2 { margin-right: var(--space-2); }
.icon-inline { vertical-align: middle; }
.visually-hidden { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0 0 0 0); white-space: nowrap; border: 0; }

/* Responsive */
@media (max-width: 640px) {
  #root { margin: 16px auto; padding: 0 14px 0; }
  .header-inner { padding: 10px 12px; }
  .main-nav ul { gap: 6px; }
}